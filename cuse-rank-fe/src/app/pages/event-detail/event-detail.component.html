<div class="event-details-container" *ngIf="event">
  <header class="event-header">
    <div class="header-top">
      <h1 class="event-title">{{ event.name }}</h1>
      <!-- Show Edit button only if the logged in user is the owner -->
      <button *ngIf="isOwner()" mat-button color="accent" class="edit-button" (click)="editEvent()">
        Edit Event
      </button>
    </div>
    <p class="event-created">Created By: {{ event.created_by.name }}</p>
  </header>

  <section class="event-info">
    <div class="event-section">
      <h2>Description</h2>
      <p>{{ event.description }}</p>
    </div>

    <div class="event-section">
      <h2>Dates</h2>
      <p><strong>Start Date:</strong> {{ event.start_date | date:'medium' }}</p>
      <p><strong>End Date:</strong> {{ event.end_date | date:'medium' }}</p>
    </div>

    <div class="event-section">
      <h2>Judging Times</h2>
      <p><strong>Judging Start:</strong> {{ event.judging_start_time | date:'medium' }}</p>
      <p><strong>Judging End:</strong> {{ event.judging_end_time | date:'medium' }}</p>
    </div>

    <div class="event-section">
      <h2>Poster Limits</h2>
      <p><strong>Min Posters per Judge:</strong> {{ event.min_posters_per_judge }}</p>
      <p><strong>Max Posters per Judge:</strong> {{ event.max_posters_per_judge }}</p>
      <p><strong>Judges per Poster:</strong> {{ event.judges_per_poster }}</p>
    </div>

    <div class="event-section">
      <h2>Criteria</h2>
      <mat-chip-listbox>
        <mat-chip *ngFor="let crit of event.criteria" color="primary" selected>
          {{ crit.name }}: {{ crit.weight | number:'1.2-2' }}
        </mat-chip>
      </mat-chip-listbox>
    </div>
  </section>
</div>

<div *ngIf="loading" class="loading">Loading event details...</div>
<div *ngIf="error" class="error">{{ error }}</div>
